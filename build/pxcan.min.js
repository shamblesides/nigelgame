var pxcan=function(a){function b(a,b){Object.defineProperty(o,a,b)}function c(a,b){E.width=(q=Math.floor(a/s))*s,E.height=(r=Math.floor(b/s))*s}function d(){E.width!==q*s&&(E.width=q*s),E.height!==r*s&&(E.height=r*s)}function e(a,b){p.minWidth*b===p.minHeight*a?(q=p.minWidth,r=p.minHeight):p.minWidth*b<p.minHeight*a?(q=Math.floor(a/b*p.minHeight),r=p.minHeight):(q=p.minWidth,r=Math.floor(b/a*p.minWidth)),s=Math.floor(Math.min(b/r,a/q)),1>s&&(s=1),E.width=q*s,E.height=r*s}function f(){++C,C>o.frameskip&&(C=0,o.onFrame&&!o.isPreloading&&o.onFrame.call(o,o),h(),n(),++D),J(f)}function g(a){if(void 0===z[a.keyCode])return!0;a.preventDefault();var b=A[z[a.keyCode]];"keydown"===a.type&&0===b.framesDown?(b.wasPressed=b.isDown=!0,b.framesDown=0):"keyup"===a.type&&b.isDown&&(b.wasReleased=!0,b.isDown=!1)}function h(){for(var a in A)A[a].wasPressed&&(A[a].wasPressed=!1),A[a].wasReleased&&(A[a].wasReleased=!1),A[a].isDown?++A[a].framesDown:A[a].framesDown=0}function i(b){var c=b.clientX-(a.clientLeft||0)-(a.offsetLeft||0)+window.scrollX,d=b.clientY-(a.clientTop||0)-(a.offsetTop||0)+window.scrollY;return{fromLeft:Math.floor(c/(a.clientWidth||a.innerWidth)*screen.width),fromTop:Math.floor(d/(a.clientHeight||a.innerHeight)*screen.height)}}function j(a,b,c,d){c=c||o,d=d||!1,Object.defineProperty(this,"x",{get:function(){return d?pxMath.clamp(a,0,c.width-1)+c.left:a+c.left}}),Object.defineProperty(this,"y",{get:function(){return d?pxMath.clamp(b,0,c.height-1)+c.top:b+c.top}}),Object.defineProperty(this,"inBounds",{get:function(){return d||this.x===this.bounded().x&&this.y===this.bounded().y}}),this.rel=function(c,d){if(-1===["bounded","b","unbounded","u",void 0].indexOf(d))throw new Error('bad value for "bounded" parameter.');return new j(a,b,c,d&&d.startsWith("b"))},function(a){a.bounded=function(){return a.rel(c,"bounded")},a.unbounded=function(){return a.rel(c,"unbounded")}}(this)}function k(a,b){B.cur=B.start=new j(a,b),B.changed=!0,B.isDown=!0,B.wasStarted=!0}function l(a,b){B.cur=new j(a,b),B.last&&B.x===B.last.x&&B.y===B.last.y||(B.changed=!0,B.moved=!0,B.isDrag=!0)}function m(){B.changed=!0,B.isDown=!1,B.wasReleased=!0}function n(){B.changed=!1,B.wasStarted=!1,B.moved=!1,B.wasReleased=!1,B.wasInterrupted=!1,B.isDown?B.last=B.cur:(B.cur=B.last=B.start=void 0,B.isMouse=void 0,B.isRightClick=void 0,B.isDrag=!1)}var o=this;a=a||window,"string"==typeof a&&(a=document.querySelector(a));var p={name:"adapt"},q=a.clientWidth||a.innerWidth,r=a.clientHeight||a.innerWidth,s=1,t=!0,u=null,v="pxcan-ascii",w={},x={x:0,y:0},y={x:0,y:0},z={},A={},B={changed:!1,isDown:!1,isMouse:void 0,isRightClick:void 0,wasStarted:!1,moved:!1,isDrag:!1,wasReleased:!1,wasInterrupted:!1,cur:void 0,last:void 0,start:void 0,x:null,y:null,inBounds:null,rel:null,bounded:null,unbounded:null},C=0,D=0;pxcan.instances.push(this);var E=document.createElement("canvas");E.style.display="block",E.style.margin="auto";var F=E.getContext("2d");if(a==window){var G=document.querySelector("body");G.style.padding=0,G.style.margin=0,G.style.overflow="hidden"}(a!==window?a:document.getElementsByTagName("body")[0]).appendChild(E),a!==window&&a.tabIndex<0&&(a.tabIndex=0);var H=pxcan.generateId();b("id",{get:function(){return H}}),b("element",{get:function(){return a}}),b("canvas",{get:function(){return E}}),b("context",{get:function(){return F}}),b("canvasOffX",{get:function(){return 0}}),b("canvasOffY",{get:function(){return 0}}),b("left",{get:function(){return Math.round(-y.x-q*(x.x+1)/2)}}),b("top",{get:function(){return Math.round(-y.y-r*(x.y+1)/2)}}),b("right",{get:function(){return this.left+q-1}}),b("bottom",{get:function(){return this.top+r-1}}),b("width",{get:function(){return q}}),b("height",{get:function(){return r}}),b("drawScale",{get:function(){return s}}),b("wasResized",{get:function(){return t}}),b("clock",{get:function(){return D}}),b("frameskip",{value:0,writable:!0}),this.origin=function(a,b){if(0===arguments.length)return{x:x.x,y:x.y};if(2!==arguments.length)throw new Error("invalid arguments for origin");x={x:a,y:b}},this.offset=function(a,b){if(0===arguments.length)return{x:y.x,y:y.y};if(2!==arguments.length)throw new Error("invalid arguments for offset");y={x:a,y:b}},b("font",{set:function(a){if(!this.hasSheet(a))throw new Error("invalid font: "+a);v=a},get:function(){if(!v)throw new Error("font has not been set.");return v}}),this.mode=function(b){if(0===arguments.length)return p.name;if("adapt"===b)p={name:"adapt"},s=arguments[1]||1,E.style.width="",E.style.height="";else if("fixed"===b)p={name:"fixed"},arguments.length<=2?(s=arguments[1]||1,q=Math.floor((a.clientWidth||a.innerWidth)/s),r=Math.floor((a.clientHeight||a.innerHeight)/s)):(q=arguments[1],r=arguments[2],s=arguments[3]||1),E.style.width="",E.style.height="";else{if("scale-overflow"!==b)throw new Error("scale"===b?"not yet supported.":"unknown mode type.");p={name:"scale-overflow",minWidth:arguments[1]||a.clientWidth||a.innerWidth,minHeight:arguments[2]||a.clientHeight||a.innerHeight},E.style.width="100%",E.style.height="100%"}t=!0,u=null,this.fitElement()},this.setSize=function(a,b){if("fixed"===p.name||"scale"===p.name)q=a,r=b;else{if("scale-overflow"!==p.name)throw new Error("screen mode does not support setSize: "+p.name);p.minWidth=a,p.minHeight=b}this.fitElement()},this.setScale=function(a){if("adapt"!==p.name&&"fixed"!==p.name)throw new Error("screen mode does not support setScale: "+p.name);s=a,this.fitElement()},this.fitElement=function(){var b=a.clientWidth||a.innerWidth,f=a.clientHeight||a.innerHeight;t=!u||u.w!==b||u.h!==f,t&&("adapt"===p.name?c(b,f):"fixed"===p.name?d(b,f):"scale-overflow"===p.name&&e(b,f),a===window&&window.scrollTo(0,0),u={w:b,h:f})},this.fitElement(),this.preload=function(a,b,c,d){if(!b&&0!==b)throw new Error("missing alias");if(w[b])throw new Error("sheet already exists with alias "+b);if(pxcan.globalSheets[b])throw new Error("global sheet already exists with alias "+b);pxcan.hasImage(a)||pxcan.preload(a,this),w[b]=new pxcan.Sheet(b,a,c,d)},this.sheet=function(a){if(w[a])return w[a];if(pxcan.globalSheets[a])return pxcan.globalSheets[a];throw new Error("invalid sheet: "+a)},this.hasSheet=function(a){return!(!w[a]&&!pxcan.globalSheets[a])},b("isPreloading",{get:function(){return pxcan.isPreloading(this)}});var I=null;b("onReady",{get:function(){return I},set:function(a){a&&!this.isPreloading?a.call(this):I=a}}),b("onFrame",{writable:!0});var J=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame;J(f),this.bind=function(a){for(var b=1;b<arguments.length;++b){var c=arguments[b];"string"==typeof c&&(c=c.toUpperCase().charCodeAt(0)),z[c]=a}A[a]={wasPressed:!1,wasReleased:!1,isDown:!1,framesDown:0}},this.button=function(a){return A[a]},a.addEventListener("keydown",g,!1),a.addEventListener("keyup",g,!1),b("touch",{get:function(){return B}}),b("contextMenu",{value:!0,writable:!0}),["x","y","inBounds","rel","bounded","unbounded"].forEach(function(a){Object.defineProperty(B,a,{get:function(){if(void 0===B.cur)throw new Error("No touch events happening.");return B.cur[a]}})}),a.addEventListener("mousedown",function(a){if(!B.isDown){var b=i(a);k(b.fromLeft,b.fromTop),B.isMouse=!0,B.isRightClick=2===a.button}},!1),window.addEventListener("mousemove",function(a){if(B.isMouse){var b=i(a);l(b.fromLeft,b.fromTop)}},!1),window.addEventListener("mouseup",function(){B.isMouse&&m()},!1);var K=void 0;a.addEventListener("touchstart",function(a){if(a.preventDefault(),!B.isDown){var b=i(a.changedTouches[0]);k(b.fromLeft,b.fromTop),B.isMouse=!1,K=a.changedTouches[0].identifier}},!1),a.addEventListener("touchmove",function(a){if(a.preventDefault(),B.isDown&&!B.isMouse){var b=Array.prototype.find.call(a.changedTouches,function(a){return a.identifier===K});if(b){var c=i(b);l(c.fromLeft,c.fromTop)}}},!1),a.addEventListener("touchend",function(a){if(a.preventDefault(),B.isDown&&!B.isMouse){var b=Array.prototype.find.call(a.changedTouches,function(a){return a.identifier===K});if(b)if(0===a.targetTouches.length)m(),K=null;else{var c=a.targetTouches[a.targetTouches.length-1];K=c.identifier,l(c)}}},!1),a.addEventListener("contextmenu",function(a){o.contextMenu||a.preventDefault()})};pxcan.generateId=function(){var a=-1;return function(){return++a}}(),pxcan.Panel=function(a,b,c,d,e,f,g){if(-1===[5,7].indexOf(arguments.length))throw new Error("invalid number of arguments.");5===arguments.length&&(f=a.origin().x,g=a.origin().y);var h=this,i=null,j=a.origin(),k=a.offset(),l=a.screen||a;this.canvasOffX=Math.round(a.canvasOffX+b+a.width*(a.origin().x+1)/2-d*(f+1)/2),this.canvasOffY=Math.round(a.canvasOffY+c+a.height*(a.origin().y+1)/2-e*(g+1)/2);var m=Math.round(d),n=Math.round(e);["element","canvas","context","drawScale","sheet"].forEach(function(a){Object.defineProperty(h,a,{get:function(){return l[a]}})}),Object.defineProperty(this,"screen",{get:function(){return l}}),Object.defineProperty(this,"left",{get:function(){return Math.round(k.x-m*(j.x+1)/2)}}),Object.defineProperty(this,"top",{get:function(){return Math.round(k.y-n*(j.y+1)/2)}}),Object.defineProperty(this,"right",{get:function(){return this.left+m-1}}),Object.defineProperty(this,"bottom",{get:function(){return this.top+n-1}}),Object.defineProperty(this,"width",{get:function(){return m}}),Object.defineProperty(this,"height",{get:function(){return n}}),Object.defineProperty(this,"font",{set:function(a){if(!this.hasSheet(a))throw new Error("invalid font: "+a);i=a},get:function(){return i||a.font}}),this.origin=function(a,b){if(0===arguments.length)return{x:j.x,y:j.y};if(2!==arguments.length)throw new Error("invalid arguments for origin");j={x:a,y:b}},this.offset=function(a,b){if(0===arguments.length)return{x:k.x,y:k.y};if(2!==arguments.length)throw new Error("invalid arguments for offset");k={x:a,y:b}}},pxcan.prototype.panel=pxcan.Panel.prototype.panel=function(a,b,c,d,e,f){if(4===arguments.length)return new pxcan.Panel(this,a,b,c,d);if(6===arguments.length)return new pxcan.Panel(this,a,b,c,d,e,f);throw new Error("invalid number of arguments.")},pxcan.prototype.setBackground=function(a){(this.element!==window?this.element:document.getElementsByTagName("body")[0]).style.background=a},pxcan.prototype.toCanvasCoords=pxcan.Panel.prototype.toCanvasCoords=function(a,b,c,d,e,f){if(6!==arguments.length)throw new Error("toCanvasCoords requires 6 arguments");(void 0===e||null===e)&&(e=this.origin().x),(void 0===f||null===f)&&(f=this.origin().y);var g=Math.round(this.canvasOffX+a+this.offset().x+this.width*(this.origin().x+1)/2-(c||0)*(e+1)/2),h=Math.round(this.canvasOffY+b+this.offset().y+this.height*(this.origin().y+1)/2-(d||0)*(f+1)/2),i=Math.max(0,this.canvasOffX-g,-g),j=Math.max(0,this.canvasOffY-h,-h),k=Math.max(0,g+c-(this.canvasOffX+this.width),g+c-(this.screen||this).width),l=Math.max(0,h+d-(this.canvasOffY+this.height),h+d-(this.screen||this).height);return i+k>=c||j+l>=d?null:{x:g+i,y:h+j,width:c-i-k,height:d-j-l,lcut:i,tcut:j,rcut:k,bcut:l}},pxcan.prototype.clear=pxcan.Panel.prototype.clear=function(a,b,c,d,e,f){if(-1===[0,4,6].indexOf(arguments.length))throw new Error("bad arguments for clear");if(0===arguments.length)return void(this instanceof pxcan?this.context.clearRect(0,0,this.canvas.width,this.canvas.height):this.context.clearRect(this.canvasOffX*this.drawScale,this.canvasOffY*this.drawScale,this.width*this.drawScale,this.height*this.drawScale));var g=this.toCanvasCoords(a,b,c,d,e,f);g&&this.context.clearRect(g.x*this.drawScale,g.y*this.drawScale,g.width*this.drawScale,g.height*this.drawScale)},pxcan.prototype.reset=function(){this.clear(),this.origin(0,0),this.offset(0,0)},pxcan.prototype.fill=pxcan.Panel.prototype.fill=function(a,b,c,d,e,f,g){if(-1===[1,5,7].indexOf(arguments.length))throw new Error("bad arguments for fill");var h=this.context.fillStyle;if(this.context.fillStyle=a,1===arguments.length)return this instanceof pxcan?this.context.fillRect(0,0,this.canvas.width,this.canvas.height):this.context.fillRect(this.canvasOffX*this.drawScale,this.canvasOffY*this.drawScale,this.width*this.drawScale,this.height*this.drawScale),void(this.context.fillStyle=h);var i=this.toCanvasCoords(b,c,d,e,f,g);i&&(this.context.fillRect(i.x*this.drawScale,i.y*this.drawScale,i.width*this.drawScale,i.height*this.drawScale),this.context.fillStyle=h)},pxcan.prototype.blit=pxcan.Panel.prototype.blit=function(a,b){if(-1===[4,5,6,7].indexOf(arguments.length))throw new Error("bad arguments for blit");var c=arguments.length%2===1?arguments[2].toString():"",d=arguments[arguments.length%2===0?2:3],e=arguments[arguments.length%2===0?3:4],f=arguments.length>=6?arguments[arguments.length-2]:null,g=arguments.length>=6?arguments[arguments.length-1]:null,h=this.sheet(a);if(!h)throw new Error("unknown sheet: "+a);var i=void 0!==b&&null!==b?h.getSprite(b):h,j=!1,k=!1,l=!1;for(c=c.replace("90","c"),c=c.replace("270","cxy"),c=c.replace("180","xy");c.length>0;){if(c.startsWith("x")||c.startsWith("h"))j=!j;else if(c.startsWith("y")||c.startsWith("v"))k=!k;else if(c.startsWith("c")){l&&(j=!j,k=!k);var m=j;j=k,k=m,l=!l}c=c.substr(1)}var n=this.toCanvasCoords(d,e,l?i.height:i.width,l?i.width:i.height,f,g);n&&((j||k)&&(this.context.translate(this.canvas.width*+j,this.canvas.height*+k),this.context.scale(j?-1:1,k?-1:1)),l&&this.context.rotate(Math.PI/2),l?this.context.drawImage(i.scaledImage(this.drawScale),(i.left+(k?n.bcut:n.tcut))*this.drawScale,(i.top+(j?n.lcut:n.rcut))*this.drawScale,n.height*this.drawScale,n.width*this.drawScale,this.canvas.height*+k+(n.y*(k?-1:1)-n.height*+k)*this.drawScale,-this.canvas.width*+j-(n.x*(j?-1:1)+n.width*+!j)*this.drawScale,n.height*this.drawScale,n.width*this.drawScale):this.context.drawImage(i.scaledImage(this.drawScale),(i.left+(j?n.rcut:n.lcut))*this.drawScale,(i.top+(k?n.bcut:n.tcut))*this.drawScale,n.width*this.drawScale,n.height*this.drawScale,this.canvas.width*+j+(n.x*(j?-1:1)-n.width*+j)*this.drawScale,this.canvas.height*+k+(n.y*(k?-1:1)-n.height*+k)*this.drawScale,n.width*this.drawScale,n.height*this.drawScale),l&&this.context.rotate(-Math.PI/2),(j||k)&&(this.context.translate(this.canvas.width*+j,this.canvas.height*+k),this.context.scale(j?-1:1,k?-1:1)))},pxcan.prototype.write=pxcan.Panel.prototype.write=function(a,b,c){if(void 0===a||null===a)throw new Error("text is "+a);if("string"!=typeof a&&(a=a.toString()),-1===[3,4,5,6].indexOf(arguments.length))throw new Error("bad arguments for write");var d,e,f=this.sheet(this.font);arguments.length>=5?(d=arguments[3],e=arguments[4]):(d=this.origin().x,e=this.origin().y);var g=0;if(-1!==[4,6].indexOf(arguments.length))if(g=arguments[arguments.length-1],"left"===g)g=0;else if("center"===g)g=.5;else if("right"===g)g=1;else if(!(g>=0&&1>=g))throw new Error("unknown text alignment: "+g);for(var h=a.split("\n"),i=0,j=0;j<h.length;++j)i=Math.max(h[j].length,i);for(var k=f.spriteWidth,l=f.spriteHeight,m=Math.round(b-(i-1)*k*((d+1)/2)),n=Math.round(c-(h.length-1)*l*((e+1)/2)),o=0;o<h.length;++o)for(var p=Math.round((i-h[o].length)*g*k),q=0;q<h[o].length;++q)this.blit(this.font,h[o].charCodeAt(q)-32,m+p+q*k,n+o*l,d,e)},pxcan.prototype.border=pxcan.Panel.prototype.border=function(a){a=a||"pxcan-border";var b=this.origin(),c=this.offset();this.origin(-1,-1),this.offset(0,0);for(var d=this.sheet(a).spriteWidth,e=d;e<this.width-d;e+=d)this.blit(a,{col:1,row:0},e,0,-1,-1),this.blit(a,{col:1,row:2},e,this.height,-1,1);for(var f=this.sheet(a).spriteHeight,g=f;g<this.height-f;g+=f)this.blit(a,{col:0,row:1},0,g,-1,-1),this.blit(a,{col:2,row:1},this.width,g,1,-1);this.blit(a,{col:0,row:0},0,0,-1,-1),this.blit(a,{col:2,row:0},this.width,0,1,-1),this.blit(a,{col:0,row:2},0,this.height,-1,1),this.blit(a,{col:2,row:2},this.width,this.height,1,1),this.origin(b.x,b.y),this.offset(c.x,c.y)},pxcan.instances=[],function(){var a={},b={},c=0,d={};pxcan.isPreloading=function(a){return!!b[a.id]||c>0},pxcan.preload=function(e,f){function g(){if(d[e]={image:h,scaledImages:{1:document.createElement("canvas")}},d[e].scaledImages[1]=document.createElement("canvas"),d[e].scaledImages[1].width=h.width,d[e].scaledImages[1].height=h.height,d[e].scaledImages[1].getContext("2d").drawImage(h,0,0),a[e]){for(var g=0;g<a[e].length;++g){var i=a[e][g],j=pxcan.instances[i];--b[i],0===c&&!b[i]&&j.onReady&&(j.onReady.call(j),j.onReady=null)}delete a[e]}else if(!f&&(--c,0===c))for(var i=0;i<pxcan.instances.length;++i){var j=pxcan.instances[i];!b[i]&&j.onReady&&(j.onReady.call(j),j.onReady=null)}}if(!e)throw new Error("missing source image");if(f&&(b[f.id]|=0),d[e])return void console.log("note: "+e+" was already preloaded.");if(a[e])return f||console.log("note: "+e+" was already requested to be preloaded"),void(a[e].indexOf(f.id)>=0?console.log("note: "+e+" was already requested to be preloaded by this pxcan"):(console.log("note: "+e+" was already requested to be preloaded by a different pxcan"),a[e].push(f.id),++b[f.id]));f?(a[e]=[f.id],++b[f.id]):++c;var h=new Image;h.onload=g,h.onerror=function(){throw new Error("Failed to load image "+e)},h.src=e},pxcan.hasImage=function(a){return!!d[a]},pxcan.image=function(a){if(!d[a])throw new Error("invalid image src: "+a);return d[a].image},pxcan.scaledImage=function(a,b){if(!d[a])throw new Error("invalid image src: "+a);if(d[a].scaledImages[b])return d[a].scaledImages[b];var c=document.createElement("canvas"),e=d[a].scaledImages[1];c.width=e.width*b,c.height=e.height*b;for(var f=c.getContext("2d"),g=e.getContext("2d").getImageData(0,0,e.width,e.height).data,h=0,i=0;i<e.height;++i)for(var j=0;j<e.width;++j)f.fillStyle="rgba("+g[h]+","+g[h+1]+","+g[h+2]+","+g[h+3]+")",f.fillRect(j*b,i*b,b,b),h+=4;return d[a].scaledImages[b]=c,c}}(),pxcan.Sheet=function(a,b,c,d){Object.defineProperty(this,"alias",{get:function(){return a}}),Object.defineProperty(this,"img",{get:function(){return pxcan.image(b)}}),Object.defineProperty(this,"src",{get:function(){return b}}),Object.defineProperty(this,"left",{get:function(){return 0}}),Object.defineProperty(this,"top",{get:function(){return 0}}),Object.defineProperty(this,"width",{get:function(){return this.img.width}}),Object.defineProperty(this,"height",{get:function(){return this.img.height}}),Object.defineProperty(this,"spriteWidth",{get:function(){return c||this.img.width}}),Object.defineProperty(this,"spriteHeight",{get:function(){return d||this.img.height}}),Object.defineProperty(this,"numCols",{get:function(){return Math.floor(this.img.width/c)}}),Object.defineProperty(this,"numRows",{get:function(){return Math.floor(this.img.height/d)}}),Object.defineProperty(this,"numSprites",{get:function(){return this.numCols*this.numRows}})},pxcan.Sheet.prototype.scaledImage=function(a){return pxcan.scaledImage(this.src,a)},pxcan.Sheet.prototype.getSprite=function(a){return new pxcan.Sprite(this,a)},pxcan.Sprite=function(a,b){if(void 0===b||null===b)throw new Error("bad frame while constructing sprite");"number"==typeof b&&b%1===0&&(b={col:b%a.numCols,row:Math.floor(b/a.numCols)});var c=void 0!==b.x?b.x:b.col?b.col*a.spriteWidth:0,d=void 0!==b.y?b.y:b.row?b.row*a.spriteHeight:0,e=void 0!==b.width?b.width:void 0!==b.col?a.spriteWidth:a.width-c,f=void 0!==b.height?b.height:void 0!==b.row?a.spriteHeight:a.height-d;Object.defineProperty(this,"sheet",{get:function(){return a}}),Object.defineProperty(this,"img",{get:function(){return a.img}}),Object.defineProperty(this,"left",{get:function(){return c}}),Object.defineProperty(this,"top",{get:function(){return d}}),Object.defineProperty(this,"width",{get:function(){return e}}),Object.defineProperty(this,"height",{get:function(){return f}})},pxcan.Sprite.prototype.scaledImage=function(a){return pxcan.scaledImage(this.sheet.src,a)},pxcan.globalSheets={},function(){function a(a,b,c,d){pxcan.preload(a),pxcan.globalSheets[b]=new pxcan.Sheet(b,a,c,d)}a("data:image/png;base64,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","pxcan-ascii",8,8),a("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAhElEQVRIie2WwQrAIAxDU/H/fzk7CdHVwdYWdjCXipQX04NqJIlCdVkbAG5q2EAh3NSQgUJCJxaeAaAm+DqONaEpp22a3mgCrrwmTVG5jIwEj8pM4HKa15WpY3AM/m3AagOrNrglyLouJp4aZF1400u4vmhZJmMa7IiPxvsojH1Y9bflAvhRIjH91XRBAAAAAElFTkSuQmCC","pxcan-border",8,8)}(),Math.sign=Math.sign||function(a){return a=+a,0===a||isNaN(a)?a:a>0?1:-1};var pxMath={mid:function(){for(var a=[],b=0;b<arguments.length;++b)a.push(+arguments[b]);return a.sort(function(a,b){return a-b}),a.length%2===1?a[Math.floor(a.length/2)]:(a[Math.floor(a.length/2)]+a[Math.floor(a.length/2)-1])/2},clamp:function(a,b,c){return 2===arguments.length&&(c=arguments[1],b=-arguments[1]),pxMath.mid(b,a,c)}};pxcan.random=function(){function a(a){var b,c,d,e=0;if(0==a.length)return e;for(b=0,d=a.length;d>b;b++)c=a.charCodeAt(b),e=(e<<5)-e+c,e|=0;return e}function b(b){if("number"==typeof b)return b;if("string"==typeof b)return a(b);throw new Error("not sure what to do with seed: "+b)}function c(a){var d=b(a),e=function(){var a=1e4*Math.sin(d++);if(a-=Math.floor(a),0===arguments.length)return a;if(1===arguments.length&&arguments[0]instanceof Array)return arguments[0][Math.floor(a*arguments[0].length)];if(1===arguments.length)return Math.floor(a*arguments[0]);if(2===arguments.length)return Math.floor(a*(arguments[1]+1-arguments[0]))+arguments[0];throw new Error("invalid arguments for random generator.")};return e.seed=function(a){d=b(a)},e.create=function(a){return c(void 0!==a?a:e())},e}return c(Math.random())}(),pxcan.wrapString=function(a,b,c){if(!a)return a;var d=".{1,"+b+"}(\\s|$)|.{"+b+"}|.+$",e=a.match(RegExp(d,"g"));c&&(e=e.slice(0,c));for(var f=0;f<e.length;++f)e[f]=e[f].trim();return e.join("\n")};